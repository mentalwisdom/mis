#pragma checksum "/Users/mac/Desktop/backup/soft/mis/Templates/ControllerGenerator/MvcControllerWithContext.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "d812116ce2b1861447648f12098bc1a6b39d3016"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Templates_ControllerGenerator_MvcControllerWithContext), @"mvc.1.0.view", @"/Templates/ControllerGenerator/MvcControllerWithContext.cshtml")]
[assembly:global::Microsoft.AspNetCore.Mvc.Razor.Compilation.RazorViewAttribute(@"/Templates/ControllerGenerator/MvcControllerWithContext.cshtml", typeof(AspNetCore.Templates_ControllerGenerator_MvcControllerWithContext))]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#line 2 "/Users/mac/Desktop/backup/soft/mis/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
using System.Collections.Generic;

#line default
#line hidden
#line 3 "/Users/mac/Desktop/backup/soft/mis/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
using System.Linq;

#line default
#line hidden
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"d812116ce2b1861447648f12098bc1a6b39d3016", @"/Templates/ControllerGenerator/MvcControllerWithContext.cshtml")]
    public class Templates_ControllerGenerator_MvcControllerWithContext : Microsoft.VisualStudio.Web.CodeGeneration.Templating.RazorTemplateBase
    {
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
            BeginContext(139, 215, true);
            WriteLiteral("using System;\r\nusing System.Collections.Generic;\r\nusing System.Linq;\r\nusing System.Threading.Tasks;\r\nusing Microsoft.AspNetCore.Mvc;\r\nusing Microsoft.AspNetCore.Mvc.Rendering;\r\nusing Microsoft.EntityFrameworkCore;\r\n");
            EndContext();
#line 11 "/Users/mac/Desktop/backup/soft/mis/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
  
    foreach (var namespaceName in Model.RequiredNamespaces)
    {

#line default
#line hidden
            BeginContext(428, 6, true);
            WriteLiteral("using ");
            EndContext();
            BeginContext(435, 13, false);
#line 14 "/Users/mac/Desktop/backup/soft/mis/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
   Write(namespaceName);

#line default
#line hidden
            EndContext();
            BeginContext(448, 3, true);
            WriteLiteral(";\r\n");
            EndContext();
#line 15 "/Users/mac/Desktop/backup/soft/mis/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
    }//eloop

#line default
#line hidden
            BeginContext(468, 12, true);
            WriteLiteral("\r\nnamespace ");
            EndContext();
            BeginContext(481, 25, false);
#line 18 "/Users/mac/Desktop/backup/soft/mis/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
     Write(Model.ControllerNamespace);

#line default
#line hidden
            EndContext();
            BeginContext(506, 5, true);
            WriteLiteral("\r\n{\r\n");
            EndContext();
#line 20 "/Users/mac/Desktop/backup/soft/mis/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
  
    string routePrefix;
    if (String.IsNullOrEmpty(Model.AreaName))
    {
        routePrefix = Model.ControllerRootName;
    }
    else
    {
        routePrefix = Model.AreaName + "/" + Model.ControllerRootName;
    }
    var modelProperties = new List<string>();
        
    foreach (var property in Model.ModelMetadata.Properties)
    {
        
        if (property.Scaffold)
        {
            modelProperties.Add(property.PropertyName);
            
        }
    }//eloop
    var bindString = string.Join(",", modelProperties);
    var contextTypeName = Model.ContextTypeName;
    var entitySetName = Model.ModelMetadata.EntitySetName;
    var entitySetVar = Model.EntitySetVariable ??
        (String.IsNullOrEmpty(entitySetName)
            ? entitySetName
            : (entitySetName.Substring(0, length: 1).ToLowerInvariant() + entitySetName.Substring(1)));
    var primaryKeyName = Model.ModelMetadata.PrimaryKeys[0].PropertyName;
    var primaryKeyShortTypeName = Model.ModelMetadata.PrimaryKeys[0].ShortTypeName;
    var primaryKeyType = Model.ModelMetadata.PrimaryKeys[0].TypeName;
    var primaryKeyNullableTypeName = GetNullableTypeName(primaryKeyType, primaryKeyShortTypeName);
    var lambdaVar = Model.ModelVariable[0];
    var relatedProperties = new Dictionary<string, dynamic>();
        
    foreach (var nav in Model.ModelMetadata.Navigations)
    {
        relatedProperties.Add(nav.AssociationPropertyName, nav);

    }

    var inlineIncludes = "";
    foreach (var property in relatedProperties.Values)
    {
        inlineIncludes += string.Format("{0}                .Include({1} => {1}.{2})", Environment.NewLine, lambdaVar, property.AssociationPropertyName);
    }

    if (!string.IsNullOrEmpty(Model.AreaName))
    {

#line default
#line hidden
            BeginContext(2323, 4, true);
            WriteLiteral("    ");
            EndContext();
            BeginContext(2330, 48, false);
#line 69 "/Users/mac/Desktop/backup/soft/mis/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
 Write(string.Format("[Area(\"{0}\")]", Model.AreaName));

#line default
#line hidden
            EndContext();
            BeginContext(2378, 2, true);
            WriteLiteral("\r\n");
            EndContext();
#line 70 "/Users/mac/Desktop/backup/soft/mis/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
    }

#line default
#line hidden
            BeginContext(2390, 17, true);
            WriteLiteral("    public class ");
            EndContext();
            BeginContext(2408, 20, false);
#line 72 "/Users/mac/Desktop/backup/soft/mis/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
            Write(Model.ControllerName);

#line default
#line hidden
            EndContext();
            BeginContext(2428, 47, true);
            WriteLiteral(" : Controller\r\n    {\r\n        private readonly ");
            EndContext();
            BeginContext(2476, 21, false);
#line 74 "/Users/mac/Desktop/backup/soft/mis/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                    Write(Model.ContextTypeName);

#line default
#line hidden
            EndContext();
            BeginContext(2497, 29, true);
            WriteLiteral(" _context;\r\n\r\n        public ");
            EndContext();
            BeginContext(2528, 20, false);
#line 76 "/Users/mac/Desktop/backup/soft/mis/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
           Write(Model.ControllerName);

#line default
#line hidden
            EndContext();
            BeginContext(2549, 1, true);
            WriteLiteral("(");
            EndContext();
            BeginContext(2551, 21, false);
#line 76 "/Users/mac/Desktop/backup/soft/mis/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                                  Write(Model.ContextTypeName);

#line default
#line hidden
            EndContext();
            BeginContext(2572, 84, true);
            WriteLiteral(" context)\r\n        {\r\n            _context = context;\r\n        }\r\n\r\n        // GET: ");
            EndContext();
            BeginContext(2657, 11, false);
#line 81 "/Users/mac/Desktop/backup/soft/mis/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
           Write(routePrefix);

#line default
#line hidden
            EndContext();
            BeginContext(2668, 2, true);
            WriteLiteral("\r\n");
            EndContext();
            BeginContext(2674, 8, true);
            WriteLiteral("        ");
            EndContext();
            BeginContext(2684, 50, true);
            WriteLiteral("public async Task<IActionResult> Index()\r\n        ");
            EndContext();
            BeginContext(2736, 3, true);
            WriteLiteral("{\r\n");
            EndContext();
#line 85 "/Users/mac/Desktop/backup/soft/mis/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
    var includeExpressions = "";
    includeExpressions = String.Join("", relatedProperties
        .Values
        .Select(property => String.Format(".Include({0} => {0}.{1})", lambdaVar, property.AssociationPropertyName)));
    if (!String.IsNullOrEmpty(includeExpressions))
    {

#line default
#line hidden
            BeginContext(3028, 12, true);
            WriteLiteral("            ");
            EndContext();
            BeginContext(3042, 4, true);
            WriteLiteral("var ");
            EndContext();
            BeginContext(3047, 12, false);
#line 91 "/Users/mac/Desktop/backup/soft/mis/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
             Write(entitySetVar);

#line default
#line hidden
            EndContext();
            BeginContext(3059, 12, true);
            WriteLiteral(" = _context.");
            EndContext();
            BeginContext(3072, 13, false);
#line 91 "/Users/mac/Desktop/backup/soft/mis/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                                      Write(entitySetName);

#line default
#line hidden
            EndContext();
            BeginContext(3086, 18, false);
#line 91 "/Users/mac/Desktop/backup/soft/mis/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                                                    Write(includeExpressions);

#line default
#line hidden
            EndContext();
            BeginContext(3104, 15, true);
            WriteLiteral(";\r\n            ");
            EndContext();
            BeginContext(3121, 18, true);
            WriteLiteral("return View(await ");
            EndContext();
            BeginContext(3141, 12, false);
#line 92 "/Users/mac/Desktop/backup/soft/mis/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                            Write(entitySetVar);

#line default
#line hidden
            EndContext();
            BeginContext(3154, 18, true);
            WriteLiteral(".ToListAsync());\r\n");
            EndContext();
#line 93 "/Users/mac/Desktop/backup/soft/mis/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
    }
    else
    {

#line default
#line hidden
            BeginContext(3196, 12, true);
            WriteLiteral("            ");
            EndContext();
            BeginContext(3210, 27, true);
            WriteLiteral("return View(await _context.");
            EndContext();
            BeginContext(3239, 13, false);
#line 96 "/Users/mac/Desktop/backup/soft/mis/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                                     Write(entitySetName);

#line default
#line hidden
            EndContext();
            BeginContext(3253, 18, true);
            WriteLiteral(".ToListAsync());\r\n");
            EndContext();
#line 97 "/Users/mac/Desktop/backup/soft/mis/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
    }

#line default
#line hidden
            BeginContext(3279, 33, true);
            WriteLiteral("        }//ef\r\n\r\n        // GET: ");
            EndContext();
            BeginContext(3313, 11, false);
#line 100 "/Users/mac/Desktop/backup/soft/mis/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
           Write(routePrefix);

#line default
#line hidden
            EndContext();
            BeginContext(3324, 61, true);
            WriteLiteral("/Details/5\r\n        public async Task<IActionResult> Details(");
            EndContext();
            BeginContext(3386, 26, false);
#line 101 "/Users/mac/Desktop/backup/soft/mis/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                                            Write(primaryKeyNullableTypeName);

#line default
#line hidden
            EndContext();
            BeginContext(3412, 130, true);
            WriteLiteral(" id)\r\n        {\r\n            if (id == null)\r\n            {\r\n                return NotFound();\r\n            }\r\n\r\n            var ");
            EndContext();
            BeginContext(3543, 19, false);
#line 108 "/Users/mac/Desktop/backup/soft/mis/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
           Write(Model.ModelVariable);

#line default
#line hidden
            EndContext();
            BeginContext(3562, 18, true);
            WriteLiteral(" = await _context.");
            EndContext();
            BeginContext(3582, 13, false);
#line 108 "/Users/mac/Desktop/backup/soft/mis/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                                                  Write(entitySetName);

#line default
#line hidden
            EndContext();
            BeginContext(3597, 14, false);
#line 108 "/Users/mac/Desktop/backup/soft/mis/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                                                                 Write(inlineIncludes);

#line default
#line hidden
            EndContext();
            BeginContext(3611, 46, true);
            WriteLiteral("\r\n                .FirstOrDefaultAsync(m => m.");
            EndContext();
            BeginContext(3658, 14, false);
#line 109 "/Users/mac/Desktop/backup/soft/mis/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                                       Write(primaryKeyName);

#line default
#line hidden
            EndContext();
            BeginContext(3672, 26, true);
            WriteLiteral(" == id);\r\n            if (");
            EndContext();
            BeginContext(3699, 19, false);
#line 110 "/Users/mac/Desktop/backup/soft/mis/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
           Write(Model.ModelVariable);

#line default
#line hidden
            EndContext();
            BeginContext(3718, 103, true);
            WriteLiteral(" == null)\r\n            {\r\n                return NotFound();\r\n            }\r\n\r\n            return View(");
            EndContext();
            BeginContext(3822, 19, false);
#line 115 "/Users/mac/Desktop/backup/soft/mis/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                   Write(Model.ModelVariable);

#line default
#line hidden
            EndContext();
            BeginContext(3841, 37, true);
            WriteLiteral(");\r\n        }//ef\r\n\r\n        // GET: ");
            EndContext();
            BeginContext(3879, 11, false);
#line 118 "/Users/mac/Desktop/backup/soft/mis/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
           Write(routePrefix);

#line default
#line hidden
            EndContext();
            BeginContext(3890, 59, true);
            WriteLiteral("/Create\r\n        public IActionResult Create()\r\n        {\r\n");
            EndContext();
#line 121 "/Users/mac/Desktop/backup/soft/mis/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
  
    foreach (var property in relatedProperties.Values)
    {
        string name = property.PrimaryKeyNames[0].Replace("_id","_name");

#line default
#line hidden
            BeginContext(4091, 12, true);
            WriteLiteral("            ");
            EndContext();
            BeginContext(4105, 10, true);
            WriteLiteral("ViewData[\"");
            EndContext();
            BeginContext(4117, 35, false);
#line 125 "/Users/mac/Desktop/backup/soft/mis/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                    Write(property.ForeignKeyPropertyNames[0]);

#line default
#line hidden
            EndContext();
            BeginContext(4153, 29, true);
            WriteLiteral("\"] = new SelectList(_context.");
            EndContext();
            BeginContext(4183, 22, false);
#line 125 "/Users/mac/Desktop/backup/soft/mis/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                                                                                      Write(property.EntitySetName);

#line default
#line hidden
            EndContext();
            BeginContext(4205, 3, true);
            WriteLiteral(", \"");
            EndContext();
            BeginContext(4209, 27, false);
#line 125 "/Users/mac/Desktop/backup/soft/mis/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                                                                                                                Write(property.PrimaryKeyNames[0]);

#line default
#line hidden
            EndContext();
            BeginContext(4236, 4, true);
            WriteLiteral("\", \"");
            EndContext();
            BeginContext(4241, 4, false);
#line 125 "/Users/mac/Desktop/backup/soft/mis/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                                                                                                                                                Write(name);

#line default
#line hidden
            EndContext();
            BeginContext(4245, 5, true);
            WriteLiteral("\");\r\n");
            EndContext();
#line 126 "/Users/mac/Desktop/backup/soft/mis/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
    }

#line default
#line hidden
            BeginContext(4258, 58, true);
            WriteLiteral("            return View();\r\n        }\r\n\r\n        // POST: ");
            EndContext();
            BeginContext(4317, 11, false);
#line 130 "/Users/mac/Desktop/backup/soft/mis/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
            Write(routePrefix);

#line default
#line hidden
            EndContext();
            BeginContext(4328, 309, true);
            WriteLiteral(@"/Create
        // To protect from overposting attacks, please enable the specific properties you want to bind to, for 
        // more details see http://go.microsoft.com/fwlink/?LinkId=317598.
        [HttpPost]
        [ValidateAntiForgeryToken]
        public async Task<IActionResult> Create([Bind(""");
            EndContext();
            BeginContext(4638, 10, false);
#line 135 "/Users/mac/Desktop/backup/soft/mis/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                                                  Write(bindString);

#line default
#line hidden
            EndContext();
            BeginContext(4648, 4, true);
            WriteLiteral("\")] ");
            EndContext();
            BeginContext(4653, 19, false);
#line 135 "/Users/mac/Desktop/backup/soft/mis/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                                                                 Write(Model.ModelTypeName);

#line default
#line hidden
            EndContext();
            BeginContext(4672, 1, true);
            WriteLiteral(" ");
            EndContext();
            BeginContext(4674, 19, false);
#line 135 "/Users/mac/Desktop/backup/soft/mis/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                                                                                      Write(Model.ModelVariable);

#line default
#line hidden
            EndContext();
            BeginContext(4693, 66, true);
            WriteLiteral(")\r\n        {\r\n            if (ModelState.IsValid)\r\n            {\r\n");
            EndContext();
#line 139 "/Users/mac/Desktop/backup/soft/mis/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
  
    if (!string.IsNullOrEmpty(primaryKeyType) && IsGuid(primaryKeyType))
    {

#line default
#line hidden
            BeginContext(4844, 16, true);
            WriteLiteral("                ");
            EndContext();
            BeginContext(4864, 19, false);
#line 142 "/Users/mac/Desktop/backup/soft/mis/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
              Write(Model.ModelVariable);

#line default
#line hidden
            EndContext();
            BeginContext(4884, 1, true);
            WriteLiteral(".");
            EndContext();
            BeginContext(4886, 14, false);
#line 142 "/Users/mac/Desktop/backup/soft/mis/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                                    Write(primaryKeyName);

#line default
#line hidden
            EndContext();
            BeginContext(4900, 20, true);
            WriteLiteral(" = Guid.NewGuid();\r\n");
            EndContext();
#line 143 "/Users/mac/Desktop/backup/soft/mis/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
    }

#line default
#line hidden
            BeginContext(4927, 16, true);
            WriteLiteral("                ");
            EndContext();
            BeginContext(4945, 13, true);
            WriteLiteral("_context.Add(");
            EndContext();
            BeginContext(4959, 19, false);
#line 144 "/Users/mac/Desktop/backup/soft/mis/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                          Write(Model.ModelVariable);

#line default
#line hidden
            EndContext();
            BeginContext(4978, 20, true);
            WriteLiteral(");\r\n                ");
            EndContext();
            BeginContext(5000, 36, true);
            WriteLiteral("await _context.SaveChangesAsync();\r\n");
            EndContext();
            BeginContext(5037, 72, true);
            WriteLiteral("                return RedirectToAction(nameof(Index));\r\n            }\r\n");
            EndContext();
#line 148 "/Users/mac/Desktop/backup/soft/mis/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
  
     foreach (var property in relatedProperties.Values)
    {
        string name = property.PrimaryKeyNames[0].Replace("_id","_name");

#line default
#line hidden
            BeginContext(5252, 12, true);
            WriteLiteral("            ");
            EndContext();
            BeginContext(5266, 10, true);
            WriteLiteral("ViewData[\"");
            EndContext();
            BeginContext(5278, 35, false);
#line 152 "/Users/mac/Desktop/backup/soft/mis/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                    Write(property.ForeignKeyPropertyNames[0]);

#line default
#line hidden
            EndContext();
            BeginContext(5314, 29, true);
            WriteLiteral("\"] = new SelectList(_context.");
            EndContext();
            BeginContext(5344, 22, false);
#line 152 "/Users/mac/Desktop/backup/soft/mis/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                                                                                      Write(property.EntitySetName);

#line default
#line hidden
            EndContext();
            BeginContext(5366, 3, true);
            WriteLiteral(", \"");
            EndContext();
            BeginContext(5370, 27, false);
#line 152 "/Users/mac/Desktop/backup/soft/mis/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                                                                                                                Write(property.PrimaryKeyNames[0]);

#line default
#line hidden
            EndContext();
            BeginContext(5397, 4, true);
            WriteLiteral("\", \"");
            EndContext();
            BeginContext(5402, 4, false);
#line 152 "/Users/mac/Desktop/backup/soft/mis/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                                                                                                                                                Write(name);

#line default
#line hidden
            EndContext();
            BeginContext(5406, 5, true);
            WriteLiteral("\");\r\n");
            EndContext();
#line 153 "/Users/mac/Desktop/backup/soft/mis/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
    }

#line default
#line hidden
            BeginContext(5421, 24, true);
            WriteLiteral("            return View(");
            EndContext();
            BeginContext(5446, 19, false);
#line 155 "/Users/mac/Desktop/backup/soft/mis/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                   Write(Model.ModelVariable);

#line default
#line hidden
            EndContext();
            BeginContext(5465, 37, true);
            WriteLiteral(");\r\n        }//ef\r\n\r\n        // GET: ");
            EndContext();
            BeginContext(5503, 11, false);
#line 158 "/Users/mac/Desktop/backup/soft/mis/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
           Write(routePrefix);

#line default
#line hidden
            EndContext();
            BeginContext(5514, 55, true);
            WriteLiteral("/Edit/5\r\n        public async Task<IActionResult> Edit(");
            EndContext();
            BeginContext(5570, 26, false);
#line 159 "/Users/mac/Desktop/backup/soft/mis/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                                         Write(primaryKeyNullableTypeName);

#line default
#line hidden
            EndContext();
            BeginContext(5596, 130, true);
            WriteLiteral(" id)\r\n        {\r\n            if (id == null)\r\n            {\r\n                return NotFound();\r\n            }\r\n\r\n            var ");
            EndContext();
            BeginContext(5727, 19, false);
#line 166 "/Users/mac/Desktop/backup/soft/mis/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
           Write(Model.ModelVariable);

#line default
#line hidden
            EndContext();
            BeginContext(5746, 18, true);
            WriteLiteral(" = await _context.");
            EndContext();
            BeginContext(5766, 13, false);
#line 166 "/Users/mac/Desktop/backup/soft/mis/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                                                  Write(entitySetName);

#line default
#line hidden
            EndContext();
            BeginContext(5780, 33, true);
            WriteLiteral(".FindAsync(id);\r\n            if (");
            EndContext();
            BeginContext(5814, 19, false);
#line 167 "/Users/mac/Desktop/backup/soft/mis/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
           Write(Model.ModelVariable);

#line default
#line hidden
            EndContext();
            BeginContext(5833, 77, true);
            WriteLiteral(" == null)\r\n            {\r\n                return NotFound();\r\n            }\r\n");
            EndContext();
#line 171 "/Users/mac/Desktop/backup/soft/mis/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
  
     foreach (var property in relatedProperties.Values)
    {
        string name = property.PrimaryKeyNames[0].Replace("_id","_name");

#line default
#line hidden
            BeginContext(6053, 12, true);
            WriteLiteral("            ");
            EndContext();
            BeginContext(6067, 10, true);
            WriteLiteral("ViewData[\"");
            EndContext();
            BeginContext(6079, 35, false);
#line 175 "/Users/mac/Desktop/backup/soft/mis/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                    Write(property.ForeignKeyPropertyNames[0]);

#line default
#line hidden
            EndContext();
            BeginContext(6115, 29, true);
            WriteLiteral("\"] = new SelectList(_context.");
            EndContext();
            BeginContext(6145, 22, false);
#line 175 "/Users/mac/Desktop/backup/soft/mis/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                                                                                      Write(property.EntitySetName);

#line default
#line hidden
            EndContext();
            BeginContext(6167, 3, true);
            WriteLiteral(", \"");
            EndContext();
            BeginContext(6171, 27, false);
#line 175 "/Users/mac/Desktop/backup/soft/mis/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                                                                                                                Write(property.PrimaryKeyNames[0]);

#line default
#line hidden
            EndContext();
            BeginContext(6198, 4, true);
            WriteLiteral("\", \"");
            EndContext();
            BeginContext(6203, 4, false);
#line 175 "/Users/mac/Desktop/backup/soft/mis/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                                                                                                                                                Write(name);

#line default
#line hidden
            EndContext();
            BeginContext(6207, 5, true);
            WriteLiteral("\");\r\n");
            EndContext();
#line 176 "/Users/mac/Desktop/backup/soft/mis/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
    }

#line default
#line hidden
            BeginContext(6222, 24, true);
            WriteLiteral("            return View(");
            EndContext();
            BeginContext(6247, 19, false);
#line 178 "/Users/mac/Desktop/backup/soft/mis/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                   Write(Model.ModelVariable);

#line default
#line hidden
            EndContext();
            BeginContext(6266, 34, true);
            WriteLiteral(");\r\n        }\r\n\r\n        // POST: ");
            EndContext();
            BeginContext(6301, 11, false);
#line 181 "/Users/mac/Desktop/backup/soft/mis/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
            Write(routePrefix);

#line default
#line hidden
            EndContext();
            BeginContext(6312, 300, true);
            WriteLiteral(@"/Edit/5
        // To protect from overposting attacks, please enable the specific properties you want to bind to, for 
        // more details see http://go.microsoft.com/fwlink/?LinkId=317598.
        [HttpPost]
        [ValidateAntiForgeryToken]
        public async Task<IActionResult> Edit(");
            EndContext();
            BeginContext(6613, 23, false);
#line 186 "/Users/mac/Desktop/backup/soft/mis/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                                         Write(primaryKeyShortTypeName);

#line default
#line hidden
            EndContext();
            BeginContext(6636, 12, true);
            WriteLiteral(" id, [Bind(\"");
            EndContext();
            BeginContext(6649, 10, false);
#line 186 "/Users/mac/Desktop/backup/soft/mis/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                                                                             Write(bindString);

#line default
#line hidden
            EndContext();
            BeginContext(6659, 4, true);
            WriteLiteral("\")] ");
            EndContext();
            BeginContext(6664, 19, false);
#line 186 "/Users/mac/Desktop/backup/soft/mis/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                                                                                            Write(Model.ModelTypeName);

#line default
#line hidden
            EndContext();
            BeginContext(6683, 1, true);
            WriteLiteral(" ");
            EndContext();
            BeginContext(6685, 19, false);
#line 186 "/Users/mac/Desktop/backup/soft/mis/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                                                                                                                 Write(Model.ModelVariable);

#line default
#line hidden
            EndContext();
            BeginContext(6704, 36, true);
            WriteLiteral(")\r\n        {\r\n            if (id != ");
            EndContext();
            BeginContext(6741, 19, false);
#line 188 "/Users/mac/Desktop/backup/soft/mis/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                 Write(Model.ModelVariable);

#line default
#line hidden
            EndContext();
            BeginContext(6760, 1, true);
            WriteLiteral(".");
            EndContext();
            BeginContext(6762, 14, false);
#line 188 "/Users/mac/Desktop/backup/soft/mis/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                                      Write(primaryKeyName);

#line default
#line hidden
            EndContext();
            BeginContext(6776, 199, true);
            WriteLiteral(")\r\n            {\r\n                return NotFound();\r\n            }\r\n\r\n            if (ModelState.IsValid)\r\n            {\r\n                try\r\n                {\r\n                    _context.Update(");
            EndContext();
            BeginContext(6976, 19, false);
#line 197 "/Users/mac/Desktop/backup/soft/mis/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                               Write(Model.ModelVariable);

#line default
#line hidden
            EndContext();
            BeginContext(6995, 177, true);
            WriteLiteral(");\r\n                    await _context.SaveChangesAsync();\r\n                }\r\n                catch (DbUpdateConcurrencyException)\r\n                {\r\n                    if (!");
            EndContext();
            BeginContext(7174, 19, false);
#line 202 "/Users/mac/Desktop/backup/soft/mis/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                     Write(Model.ModelTypeName);

#line default
#line hidden
            EndContext();
            BeginContext(7194, 7, true);
            WriteLiteral("Exists(");
            EndContext();
            BeginContext(7202, 19, false);
#line 202 "/Users/mac/Desktop/backup/soft/mis/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                                                 Write(Model.ModelVariable);

#line default
#line hidden
            EndContext();
            BeginContext(7221, 1, true);
            WriteLiteral(".");
            EndContext();
            BeginContext(7223, 14, false);
#line 202 "/Users/mac/Desktop/backup/soft/mis/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                                                                      Write(primaryKeyName);

#line default
#line hidden
            EndContext();
            BeginContext(7237, 289, true);
            WriteLiteral(@"))
                    {
                        return NotFound();
                    }
                    else
                    {
                        throw;
                    }
                }
                return RedirectToAction(nameof(Index));
            }
");
            EndContext();
#line 213 "/Users/mac/Desktop/backup/soft/mis/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
  
     foreach (var property in relatedProperties.Values)
    {
        string name = property.PrimaryKeyNames[0].Replace("_id","_name");

#line default
#line hidden
            BeginContext(7669, 12, true);
            WriteLiteral("            ");
            EndContext();
            BeginContext(7683, 10, true);
            WriteLiteral("ViewData[\"");
            EndContext();
            BeginContext(7695, 35, false);
#line 217 "/Users/mac/Desktop/backup/soft/mis/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                    Write(property.ForeignKeyPropertyNames[0]);

#line default
#line hidden
            EndContext();
            BeginContext(7731, 29, true);
            WriteLiteral("\"] = new SelectList(_context.");
            EndContext();
            BeginContext(7761, 22, false);
#line 217 "/Users/mac/Desktop/backup/soft/mis/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                                                                                      Write(property.EntitySetName);

#line default
#line hidden
            EndContext();
            BeginContext(7783, 3, true);
            WriteLiteral(", \"");
            EndContext();
            BeginContext(7787, 27, false);
#line 217 "/Users/mac/Desktop/backup/soft/mis/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                                                                                                                Write(property.PrimaryKeyNames[0]);

#line default
#line hidden
            EndContext();
            BeginContext(7814, 4, true);
            WriteLiteral("\", \"");
            EndContext();
            BeginContext(7819, 4, false);
#line 217 "/Users/mac/Desktop/backup/soft/mis/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                                                                                                                                                Write(name);

#line default
#line hidden
            EndContext();
            BeginContext(7823, 5, true);
            WriteLiteral("\");\r\n");
            EndContext();
#line 218 "/Users/mac/Desktop/backup/soft/mis/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
    }

#line default
#line hidden
            BeginContext(7838, 24, true);
            WriteLiteral("            return View(");
            EndContext();
            BeginContext(7863, 19, false);
#line 220 "/Users/mac/Desktop/backup/soft/mis/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                   Write(Model.ModelVariable);

#line default
#line hidden
            EndContext();
            BeginContext(7882, 37, true);
            WriteLiteral(");\r\n        }//ef\r\n\r\n        // GET: ");
            EndContext();
            BeginContext(7920, 11, false);
#line 223 "/Users/mac/Desktop/backup/soft/mis/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
           Write(routePrefix);

#line default
#line hidden
            EndContext();
            BeginContext(7931, 59, true);
            WriteLiteral("/Delete/5\r\n        public async Task<IActionResult> Delete(");
            EndContext();
            BeginContext(7991, 26, false);
#line 224 "/Users/mac/Desktop/backup/soft/mis/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                                           Write(primaryKeyNullableTypeName);

#line default
#line hidden
            EndContext();
            BeginContext(8017, 130, true);
            WriteLiteral(" id)\r\n        {\r\n            if (id == null)\r\n            {\r\n                return NotFound();\r\n            }\r\n\r\n            var ");
            EndContext();
            BeginContext(8148, 19, false);
#line 231 "/Users/mac/Desktop/backup/soft/mis/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
           Write(Model.ModelVariable);

#line default
#line hidden
            EndContext();
            BeginContext(8167, 18, true);
            WriteLiteral(" = await _context.");
            EndContext();
            BeginContext(8187, 13, false);
#line 231 "/Users/mac/Desktop/backup/soft/mis/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                                                  Write(entitySetName);

#line default
#line hidden
            EndContext();
            BeginContext(8202, 14, false);
#line 231 "/Users/mac/Desktop/backup/soft/mis/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                                                                 Write(inlineIncludes);

#line default
#line hidden
            EndContext();
            BeginContext(8216, 46, true);
            WriteLiteral("\r\n                .FirstOrDefaultAsync(m => m.");
            EndContext();
            BeginContext(8263, 14, false);
#line 232 "/Users/mac/Desktop/backup/soft/mis/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                                       Write(primaryKeyName);

#line default
#line hidden
            EndContext();
            BeginContext(8277, 26, true);
            WriteLiteral(" == id);\r\n            if (");
            EndContext();
            BeginContext(8304, 19, false);
#line 233 "/Users/mac/Desktop/backup/soft/mis/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
           Write(Model.ModelVariable);

#line default
#line hidden
            EndContext();
            BeginContext(8323, 103, true);
            WriteLiteral(" == null)\r\n            {\r\n                return NotFound();\r\n            }\r\n\r\n            return View(");
            EndContext();
            BeginContext(8427, 19, false);
#line 238 "/Users/mac/Desktop/backup/soft/mis/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                   Write(Model.ModelVariable);

#line default
#line hidden
            EndContext();
            BeginContext(8446, 38, true);
            WriteLiteral(");\r\n        }//ef\r\n\r\n        // POST: ");
            EndContext();
            BeginContext(8485, 11, false);
#line 241 "/Users/mac/Desktop/backup/soft/mis/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
            Write(routePrefix);

#line default
#line hidden
            EndContext();
            BeginContext(8496, 146, true);
            WriteLiteral("/Delete/5\r\n        [HttpPost, ActionName(\"Delete\")]\r\n        [ValidateAntiForgeryToken]\r\n        public async Task<IActionResult> DeleteConfirmed(");
            EndContext();
            BeginContext(8643, 23, false);
#line 244 "/Users/mac/Desktop/backup/soft/mis/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                                                    Write(primaryKeyShortTypeName);

#line default
#line hidden
            EndContext();
            BeginContext(8666, 33, true);
            WriteLiteral(" id)\r\n        {\r\n            var ");
            EndContext();
            BeginContext(8700, 19, false);
#line 246 "/Users/mac/Desktop/backup/soft/mis/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
           Write(Model.ModelVariable);

#line default
#line hidden
            EndContext();
            BeginContext(8719, 18, true);
            WriteLiteral(" = await _context.");
            EndContext();
            BeginContext(8739, 13, false);
#line 246 "/Users/mac/Desktop/backup/soft/mis/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                                                  Write(entitySetName);

#line default
#line hidden
            EndContext();
            BeginContext(8753, 38, true);
            WriteLiteral(".FindAsync(id);\r\n            _context.");
            EndContext();
            BeginContext(8793, 13, false);
#line 247 "/Users/mac/Desktop/backup/soft/mis/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                 Write(entitySetName);

#line default
#line hidden
            EndContext();
            BeginContext(8807, 8, true);
            WriteLiteral(".Remove(");
            EndContext();
            BeginContext(8816, 19, false);
#line 247 "/Users/mac/Desktop/backup/soft/mis/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                                        Write(Model.ModelVariable);

#line default
#line hidden
            EndContext();
            BeginContext(8835, 143, true);
            WriteLiteral(");\r\n            await _context.SaveChangesAsync();\r\n            return RedirectToAction(nameof(Index));\r\n        }//ef\r\n\r\n        private bool ");
            EndContext();
            BeginContext(8980, 19, false);
#line 252 "/Users/mac/Desktop/backup/soft/mis/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                 Write(Model.ModelTypeName);

#line default
#line hidden
            EndContext();
            BeginContext(9000, 7, true);
            WriteLiteral("Exists(");
            EndContext();
            BeginContext(9008, 23, false);
#line 252 "/Users/mac/Desktop/backup/soft/mis/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                                             Write(primaryKeyShortTypeName);

#line default
#line hidden
            EndContext();
            BeginContext(9031, 45, true);
            WriteLiteral(" id)\r\n        {\r\n            return _context.");
            EndContext();
            BeginContext(9078, 13, false);
#line 254 "/Users/mac/Desktop/backup/soft/mis/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                        Write(entitySetName);

#line default
#line hidden
            EndContext();
            BeginContext(9092, 12, true);
            WriteLiteral(".Any(e => e.");
            EndContext();
            BeginContext(9105, 14, false);
#line 254 "/Users/mac/Desktop/backup/soft/mis/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
                                                   Write(primaryKeyName);

#line default
#line hidden
            EndContext();
            BeginContext(9119, 35, true);
            WriteLiteral(" == id);\r\n        }//ef\r\n    }\r\n}\r\n");
            EndContext();
        }
        #pragma warning restore 1998
#line 259 "/Users/mac/Desktop/backup/soft/mis/Templates/ControllerGenerator/MvcControllerWithContext.cshtml"
 
    // This function converts the primary key short type name to its nullable equivalent when possible. This is required to make
    // sure that an HTTP 400 error is thrown when the user tries to access the edit, delete, or details action with null values.
    string GetNullableTypeName(string typeName, string shortTypeName)
    {
        // The exceptions are caught because if for any reason the type is user defined, then the short type name will be used.
        // In that case the user will receive a server error if null is passed to the edit, delete, or details actions.
        Type primaryKeyType = null;
        try
        {
            primaryKeyType = Type.GetType(typeName);
        }
        catch
        {
        }
        if (primaryKeyType != null && (!Microsoft.VisualStudio.Web.CodeGeneration.Templating.TypeUtilities.IsNullable(primaryKeyType) || IsGuid(typeName)))
        {
            return shortTypeName + "?";
        }
        return shortTypeName;
    }

    bool IsGuid(string typeName) {
        return String.Equals("System.Guid", typeName, StringComparison.OrdinalIgnoreCase);
    }

#line default
#line hidden
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<dynamic> Html { get; private set; }
    }
}
#pragma warning restore 1591
